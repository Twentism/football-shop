{% extends 'base.html' %}

{% block content %}
<main>
    <h1>Football Shop</h1>

    <p><strong>Name:</strong> {{ name }}</p>
    <p><strong>Class:</strong> {{ class }}</p>

    <a href="{% url 'main:create_product' %}">
        <button>+ Add Product</button>
    </a>

    <a href="{% url 'main:logout' %}">
        <button>Logout</button>
    </a>

    <h5>Last login session: {{ last_login }}</h5>

    <hr>

    <a href="?filter=all">
        <button type="button">All Products</button>
    </a>
    <a href="?filter=my">
        <button type="button">My Products</button>
    </a> 

    {% if not product_list %}
        <p>No products available in Football Shop.</p>
    {% else %}
        {% for product in product_list %}
        <div>
            <h2>
                <a href="{% url 'main:show_product' product.id %}">
                    {{ product.name }}
                </a>
            </h2>

            <p>
                <b>Price:</b> Rp{{ product.price }}<br>
                <b>Category:</b> {{ product.get_category_display }}
                {% if product.is_featured %} | <b>Featured</b>{% endif %}
                {% if product.is_hot %} | <b>Hot</b>{% endif %}
                | Views: {{ product.views|default:"0" }}
            </p>

            {% if product.thumbnail %}
                <img src="{{ product.thumbnail }}" alt="thumbnail" width="150" height="100"><br>
            {% endif %}

            <p>{{ product.description|truncatewords:25 }}...</p>

            <p>
                <a href="{% url 'main:show_product' product.id %}">
                    <button>View Product</button>
                </a>
            </p>
        </div>
        <hr>
        {% endfor %}
    {% endif %}
</main>
{% endblock content %}